@layer utilities {

    /* Base animated element */
    .animated-element {
        opacity: 0;
        transition: opacity var(--animation-duration-normal) var(--animation-easing-ease-out);
        will-change: transform, opacity, clip-path;
    }

    .animated-element.is-visible {
        opacity: 1;
        transform: none;
        clip-path: inset(0 0 0 0);
    }

    /* Pop animation - subtle zoom in */
    .animate-pop {
        transform: scale(0.95);
        transition: all var(--animation-duration-normal) var(--animation-easing-ease-out);
    }

    .animate-pop.is-visible {
        transform: scale(1);
    }

    /* Slide animations */
    .animate-slide-up {
        transform: translateY(20px);
        transition: all var(--animation-duration-slow) var(--animation-easing-bounce);
    }

    .animate-slide-up.is-visible {
        transform: translateY(0);
    }

    .animate-slide-left {
        transform: translateX(-100%);
        transition: all var(--animation-duration-slow) var(--animation-easing-bounce);
    }

    .animate-slide-left.is-visible {
        transform: translateX(0);
    }

    .animate-slide-right {
        transform: translateX(100%);
        transition: all var(--animation-duration-slow) var(--animation-easing-bounce);
    }

    .animate-slide-right.is-visible {
        transform: translateX(0);
    }

    /* Reveal animation with clip-path */
    .animate-reveal {
        clip-path: inset(100% 0 0 0);
        transition: all var(--animation-duration-normal) var(--animation-easing-smooth);
    }

    /* Rotate animation */
    .animate-rotate {
        transform: scale(0.95) rotate(-3deg);
        transition: all var(--animation-duration-normal) var(--animation-easing-ease-out);
    }

    .animate-rotate.is-visible {
        transform: scale(1) rotate(0deg);
    }

    /* Spring animation */
    .animate-spring {
        transform: scale(0.8);
        transition: all var(--animation-duration-normal) var(--animation-easing-spring);
    }

    .animate-spring.is-visible {
        transform: scale(1);
    }

    /**
     * Popover-specific animations
     */
    /* Pop animation for popovers - subtle zoom in */
    [popover].animate-pop {
        opacity: 0;
        transform: scale(0.95);
    }

    [popover].animate-pop:popover-open {
        opacity: 1;
        transform: scale(1);
        transition: opacity var(--animation-duration-normal),
        transform var(--animation-duration-normal),
        overlay var(--animation-duration-normal) allow-discrete,
        display var(--animation-duration-normal) allow-discrete;
        transition-timing-function: var(--animation-easing-ease-out);
    }

    @starting-style {
        [popover].animate-pop:popover-open {
            opacity: 0;
            transform: scale(0.95);
        }
    }

    /* Slide up animation for popovers */
    [popover].animate-slide-up {
        opacity: 0;
        transform: translateY(20px);
    }

    [popover].animate-slide-up:popover-open {
        opacity: 1;
        transform: translateY(0);
        transition: all var(--animation-duration-slow) var(--animation-easing-bounce),
        overlay var(--animation-duration-slow) allow-discrete,
        display var(--animation-duration-slow) allow-discrete;
    }

    @starting-style {
        [popover].animate-slide-up:popover-open {
            opacity: 0;
            transform: translateY(20px);
        }
    }

    /* Slide left animation for popovers */
    [popover].animate-slide-left {
        opacity: 0;
        transform: translateX(-100%);
    }

    [popover].animate-slide-left:popover-open {
        opacity: 1;
        transform: translateX(0);
        transition: all var(--animation-duration-slow) var(--animation-easing-bounce),
        overlay var(--animation-duration-slow) allow-discrete,
        display var(--animation-duration-slow) allow-discrete;
    }

    @starting-style {
        [popover].animate-slide-left:popover-open {
            opacity: 0;
            transform: translateX(-100%);
        }
    }

    /* Slide right animation for popovers */
    [popover].animate-slide-right {
        opacity: 0;
        transform: translateX(100%);
    }

    [popover].animate-slide-right:popover-open {
        opacity: 1;
        transform: translateX(0);
        transition: all var(--animation-duration-slow) var(--animation-easing-bounce),
        overlay var(--animation-duration-slow) allow-discrete,
        display var(--animation-duration-slow) allow-discrete;
    }

    @starting-style {
        [popover].animate-slide-right:popover-open {
            opacity: 0;
            transform: translateX(100%);
        }
    }

    /* Spring animation for popovers */
    [popover].animate-spring {
        opacity: 0;
        transform: scale(0.8);
    }

    [popover].animate-spring:popover-open {
        opacity: 1;
        transform: scale(1);
        transition: all var(--animation-duration-normal) var(--animation-easing-spring),
        overlay var(--animation-duration-normal) allow-discrete,
        display var(--animation-duration-normal) allow-discrete;
    }

    @starting-style {
        [popover].animate-spring:popover-open {
            opacity: 0;
            transform: scale(0.8);
        }
    }

    /* Dropdown bounce animation - optimized for dropdowns */
    [popover].animate-dropdown-bounce {
        opacity: 0;
        transform: scale(0.9);
    }

    [popover].animate-dropdown-bounce:popover-open {
        opacity: 1;
        transform: scale(1);
        transition: opacity var(--animation-duration-fast),
        transform var(--animation-duration-fast),
        overlay var(--animation-duration-fast) allow-discrete,
        display var(--animation-duration-fast) allow-discrete;
        transition-timing-function: var(--animation-easing-bounce);
    }

    @starting-style {
        [popover].animate-dropdown-bounce:popover-open {
            opacity: 0;
            transform: scale(0.9);
        }
    }

    /* Tooltip bounce animation - optimized for tooltips */
    [popover].animate-tooltip-bounce {
        opacity: 0;
        transform: scale(0.92);
    }

    [popover].animate-tooltip-bounce:popover-open {
        opacity: 1;
        transform: scale(1);
        transition: opacity var(--animation-duration-fast),
        transform var(--animation-duration-fast),
        overlay var(--animation-duration-fast) allow-discrete,
        display var(--animation-duration-fast) allow-discrete;
        transition-timing-function: var(--animation-easing-bounce);
    }

    @starting-style {
        [popover].animate-tooltip-bounce:popover-open {
            opacity: 0;
            transform: scale(0.92);
        }
    }

    @media (prefers-reduced-motion: reduce) {
        .animated-element,
        .animate-pop,
        .animate-slide-up,
        .animate-slide-left,
        .animate-slide-right,
        .animate-reveal,
        .animate-rotate,
        .animate-spring,
        [popover].animate-pop,
        [popover].animate-slide-up,
        [popover].animate-slide-left,
        [popover].animate-slide-right,
        [popover].animate-spring,
        [popover].animate-dropdown-bounce,
        [popover].animate-tooltip-bounce {
            transition: none !important;
            animation: none !important;
        }

        .animated-element,
        .animate-pop,
        .animate-slide-up,
        .animate-slide-left,
        .animate-slide-right,
        .animate-reveal,
        .animate-rotate,
        .animate-spring {
            opacity: 1;
            transform: none;
            clip-path: none;
        }

        [popover].animate-pop:popover-open,
        [popover].animate-slide-up:popover-open,
        [popover].animate-slide-left:popover-open,
        [popover].animate-slide-right:popover-open,
        [popover].animate-spring:popover-open,
        [popover].animate-dropdown-bounce:popover-open,
        [popover].animate-tooltip-bounce:popover-open {
            opacity: 1;
            transform: none;
            transition: none !important;
        }
    }

}
