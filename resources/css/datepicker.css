@layer components {
    /* 1. Outer Container */
    .spire-datepicker-container {
        @apply w-full;
    }

    /* 2. Inner Box (Styled Wrapper) */
    .spire-datepicker-box {
        @apply flex items-center gap-2 ease-fast;
        @apply focus-within:border-primary focus-within:ring-2 focus-within:ring-primary/20;
    }

    /* 3. Variant Styles */
    .spire-datepicker-box--bordered {
        @apply border border-border bg-surface;
    }
    .spire-datepicker-box--flat {
        @apply border-0 bg-surface-subtle;
    }

    /* 4. Size Styles */
    .spire-datepicker-box--sm {
        @apply h-8 px-2 text-sm;
    }
    .spire-datepicker-box--md {
        @apply h-10 px-2 text-base;
    }
    .spire-datepicker-box--lg {
        @apply h-12 px-2 text-lg;
    }

    /* 5. DatePicker Box States */
    .spire-datepicker-box--disabled {
        @apply opacity-50 cursor-not-allowed;
    }

    .spire-datepicker-box--error {
        @apply border-error;
    }

    .spire-datepicker-box--error.focus-within\:border-primary {
        @apply focus-within:border-error focus-within:ring-error/20;
    }

    .spire-datepicker-box--readonly {
        @apply bg-surface-subtle cursor-default;
    }

    /* 6. DatePicker Trigger Segmented Input Container */
    .spire-datepicker-trigger__segments {
        @apply flex items-center gap-1 w-full focus-within:outline-none;
        transition: all var(--animation-duration-fast) ease-out;
    }

    /* 7. DatePicker Trigger Individual Segment */
    .spire-datepicker-trigger__segment {
        @apply w-8 text-center bg-transparent border-0 outline-none p-0;
        @apply text-text font-normal;
        @apply focus:bg-primary/10 focus:rounded;
        @apply focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary;
        @apply focus-visible:ring-2 focus-visible:ring-primary/20;
        transition: background-color var(--animation-duration-fast) ease-out;
    }

    .spire-datepicker-trigger__segment::placeholder {
        @apply text-text-muted opacity-50;
    }

    /* 8. DatePicker Trigger Year Segment (4 digits) */
    .spire-datepicker-trigger__segment--year {
        @apply w-14;
    }

    /* 9. DatePicker Trigger Separator */
    .spire-datepicker-trigger__separator {
        @apply text-text-muted font-normal select-none;
    }

    /* 10. DatePicker Trigger Size Variants for Segments */
    .spire-datepicker-box--sm .spire-datepicker-trigger__segment {
        @apply text-sm h-6;
    }

    .spire-datepicker-box--md .spire-datepicker-trigger__segment {
        @apply text-sm h-8;
    }

    .spire-datepicker-box--lg .spire-datepicker-trigger__segment {
        @apply text-base h-10;
    }

    .spire-datepicker-box--sm .spire-datepicker-trigger__segment--year {
        @apply w-12;
    }

    .spire-datepicker-box--md .spire-datepicker-trigger__segment--year {
        @apply w-14;
    }

    .spire-datepicker-box--lg .spire-datepicker-trigger__segment--year {
        @apply w-16;
    }

    .spire-datepicker-box--sm .spire-datepicker-trigger__separator {
        @apply text-sm;
    }

    .spire-datepicker-box--md .spire-datepicker-trigger__separator {
        @apply text-sm;
    }

    .spire-datepicker-box--lg .spire-datepicker-trigger__separator {
        @apply text-base;
    }

    /* 11. DatePicker Content (Dropdown Panel) */
    .spire-datepicker-content {
        @apply bg-surface border border-border rounded-lg shadow-lg p-3;
        animation: dropdown-bounce var(--animation-duration-normal) ease-out;
    }

    /* 11a. DatePicker Content Width Variants */
    .spire-datepicker-content--sm {
        @apply min-w-[20rem];
    }

    .spire-datepicker-content--md {
        @apply min-w-[22rem];
    }

    .spire-datepicker-content--lg {
        @apply min-w-[24rem];
    }

    .spire-datepicker-content--auto {
        @apply min-w-max;
    }

    /* 12. DatePicker Actions (Header) */
    .spire-datepicker-actions {
        @apply flex items-center justify-end gap-2 pb-3 mb-3 border-b border-border;
    }

    /* 13. Range Mode Styles */
    .spire-datepicker-trigger__range {
        @apply flex items-center gap-2 w-full;
    }

    .spire-datepicker-trigger__range-display {
        @apply flex items-center gap-2 flex-1 min-w-0;
    }

    .spire-datepicker-trigger__range-value {
        @apply text-text font-normal truncate;
    }

    .spire-datepicker-trigger__range-value:empty {
        @apply text-text-muted;
    }

    .spire-datepicker-trigger__range-separator {
        @apply text-text-muted font-normal select-none shrink-0;
    }

    /* 14. Multiple Mode Styles */
    .spire-datepicker-trigger__multiple {
        @apply flex items-center gap-2 w-full;
    }

    .spire-datepicker-trigger__multiple-display {
        @apply flex-1 min-w-0;
    }

    .spire-datepicker-trigger__multiple-value {
        @apply text-text font-normal truncate block;
    }

    .spire-datepicker-trigger__multiple-value:empty {
        @apply text-text-muted;
    }

    .spire-datepicker-trigger__multiple-actions {
        @apply flex items-center gap-2 shrink-0;
    }

    .spire-datepicker-trigger__count-badge {
        @apply inline-flex items-center justify-center px-2 py-1;
        @apply text-xs font-medium rounded-full;
        @apply bg-primary/10 text-primary;
        @apply border border-primary/20;
    }

    /* 15. Mode Modifiers for DatePicker Box */
    .spire-datepicker-box--range .spire-datepicker-trigger__range-value,
    .spire-datepicker-box--multiple .spire-datepicker-trigger__multiple-value {
        @apply text-sm;
    }

    .spire-datepicker-box--sm.spire-datepicker-box--range .spire-datepicker-trigger__range-value,
    .spire-datepicker-box--sm.spire-datepicker-box--multiple .spire-datepicker-trigger__multiple-value {
        @apply text-xs;
    }

    .spire-datepicker-box--lg.spire-datepicker-box--range .spire-datepicker-trigger__range-value,
    .spire-datepicker-box--lg.spire-datepicker-box--multiple .spire-datepicker-trigger__multiple-value {
        @apply text-base;
    }

    /* 16. Clear Button Styles */
    .spire-datepicker-trigger__clear-btn {
        @apply text-text-muted hover:text-error;
        @apply transition-colors duration-150;
        @apply focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-error;
        @apply focus-visible:ring-2 focus-visible:ring-error/20;
    }

    .spire-datepicker-trigger__clear-btn:hover {
        @apply bg-error/10;
    }

    /* 17. DatePicker Footer */
    .spire-datepicker-footer {
        @apply flex items-center gap-2 pt-3 mt-3 border-t border-border;
    }

    .spire-datepicker-footer__inputs {
        @apply flex items-center gap-2 flex-1;
    }

    .spire-datepicker-footer__input {
        @apply flex-1 h-9 px-3 text-sm rounded-md;
        @apply border border-border bg-surface;
        @apply text-text placeholder:text-text-muted;
        @apply focus:border-primary focus:ring-2 focus:ring-primary/20;
        @apply focus-visible:outline-none;
    }

    .spire-datepicker-footer__separator {
        @apply text-text-muted text-sm;
    }

    .spire-datepicker-footer__actions {
        @apply flex items-center gap-2;
    }
}
