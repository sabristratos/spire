@layer components {
    .spire-rating {
        @apply inline-flex items-center;
    }

    .spire-rating-container {
        @apply flex items-center gap-3;
    }

    .spire-rating-stars {
        @apply flex gap-0.5;
    }

    .spire-rating-star {
        @apply relative inline-flex items-center justify-center;
        @apply overflow-hidden;
        @apply transition-all duration-150 ease-out;
        @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2;
    }

    .spire-rating-star:disabled {
        @apply cursor-default;
    }

    .spire-rating-star-icon {
        @apply transition-[opacity,clip-path] duration-150;
    }

    .spire-rating-star-icon--outline {
        @apply block opacity-100;
    }

    .spire-rating-star-icon--filled {
        @apply absolute inset-0 opacity-0;
    }

    .spire-rating-star--filled .spire-rating-star-icon--outline {
        @apply opacity-0;
    }

    .spire-rating-star--filled .spire-rating-star-icon--filled {
        @apply opacity-100;
    }

    .spire-rating-star--half .spire-rating-star-icon--outline {
        @apply opacity-100;
    }

    .spire-rating-star--half .spire-rating-star-icon--filled {
        @apply opacity-100;
        clip-path: inset(0 50% 0 0);
    }

    .spire-rating--interactive .spire-rating-star:not(:disabled):hover {
        @apply scale-110;
    }

    .spire-rating--interactive .spire-rating-star:not(:disabled):active {
        @apply scale-95;
    }

    .spire-rating-value {
        @apply flex items-center gap-1 text-sm font-medium text-muted;
    }

    .spire-rating-value-separator {
        @apply text-text-disabled;
    }

    .spire-rating-reset {
        @apply inline-flex items-center gap-1.5;
        @apply px-2 py-1 text-xs font-medium;
        @apply bg-surface text-muted;
        @apply rounded-full border border-border;
        @apply transition-all duration-150;
        @apply hover:bg-overlay hover:text-text hover:border-border-hover;
        @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary;
        @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-surface disabled:hover:text-muted;
    }

    /* Size variants */
    .spire-rating--sm .spire-rating-stars {
        @apply gap-0.5;
    }

    .spire-rating--md .spire-rating-stars {
        @apply gap-1;
    }

    .spire-rating--lg .spire-rating-stars {
        @apply gap-1.5;
    }

    /* Color variants - Outline stars */
    .spire-rating--warning .spire-rating-star-icon--outline {
        @apply fill-none stroke-neutral-300;
    }

    .spire-rating--primary .spire-rating-star-icon--outline {
        @apply fill-none stroke-neutral-300;
    }

    .spire-rating--secondary .spire-rating-star-icon--outline {
        @apply fill-none stroke-neutral-300;
    }

    .spire-rating--success .spire-rating-star-icon--outline {
        @apply fill-none stroke-neutral-300;
    }

    .spire-rating--error .spire-rating-star-icon--outline {
        @apply fill-none stroke-neutral-300;
    }

    .spire-rating--info .spire-rating-star-icon--outline {
        @apply fill-none stroke-neutral-300;
    }

    /* Color variants - Filled stars */
    .spire-rating--warning .spire-rating-star-icon--filled {
        @apply fill-warning stroke-warning;
    }

    .spire-rating--primary .spire-rating-star-icon--filled {
        @apply fill-primary stroke-primary;
    }

    .spire-rating--secondary .spire-rating-star-icon--filled {
        @apply fill-secondary stroke-secondary;
    }

    .spire-rating--success .spire-rating-star-icon--filled {
        @apply fill-success stroke-success;
    }

    .spire-rating--error .spire-rating-star-icon--filled {
        @apply fill-error stroke-error;
    }

    .spire-rating--info .spire-rating-star-icon--filled {
        @apply fill-info stroke-info;
    }

    /* Readonly variant */
    .spire-rating--readonly .spire-rating-star {
        @apply cursor-default;
    }

    .spire-rating--readonly .spire-rating-star:hover {
        @apply scale-100;
    }
}
