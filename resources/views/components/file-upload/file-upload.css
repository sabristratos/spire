@layer components {
    /* 1. Container */
    .spire-file-upload {
        @apply w-full;
    }

    .spire-file-upload--disabled {
        @apply opacity-50 pointer-events-none;
    }

    /* 2. Drop Zone */
    .spire-file-upload__zone {
        @apply relative flex flex-col items-center justify-center gap-1 p-4;
        @apply border-2 border-dashed border-primary/30 rounded-lg;
        @apply bg-primary/5;
        @apply cursor-pointer;
        @apply transition-all duration-200 ease-out;
        @apply focus-within:outline-2 focus-within:outline-primary focus-within:outline-offset-2;
        min-height: 80px;
    }

    .spire-file-upload__zone--dragging {
        @apply border-primary bg-primary/10;
        @apply ring-2 ring-primary/20;
    }

    .spire-file-upload__zone--disabled {
        @apply cursor-not-allowed bg-surface border-border;
    }

    .spire-file-upload__zone-row {
        @apply flex items-center gap-2;
    }

    .spire-file-upload__zone-icon {
        @apply w-5 h-5 text-primary flex-shrink-0;
    }

    .spire-file-upload__zone-primary {
        @apply text-sm font-medium text-text;
    }

    .spire-file-upload__zone-hint {
        @apply text-xs text-text-muted;
    }

    .spire-file-upload__zone-hint::before {
        content: 'â€¢';
        @apply mx-1.5;
    }

    .spire-file-upload__zone-secondary {
        @apply text-xs text-text-muted;
    }

    .spire-file-upload__zone-button {
        @apply mt-2;
    }

    /* 3. URL Upload Section */
    .spire-file-upload__divider {
        @apply flex items-center gap-4 my-4;
    }

    .spire-file-upload__divider::before,
    .spire-file-upload__divider::after {
        content: '';
        @apply flex-1 h-px bg-border;
    }

    .spire-file-upload__divider-text {
        @apply text-xs text-text-muted;
    }

    .spire-file-upload__url {
        @apply space-y-2;
    }

    .spire-file-upload__url-label {
        @apply text-sm font-medium text-text;
    }

    .spire-file-upload__url-input {
        @apply flex gap-2;
    }

    /* 4. File Lists */
    .spire-file-upload__lists {
        @apply mt-4 space-y-3;
    }

    .spire-file-upload__section-label {
        @apply text-xs font-medium text-text-muted uppercase tracking-wide mb-2;
    }

    .spire-file-upload__list {
        @apply space-y-2;
    }

    /* 5. File Item (List Layout) */
    .spire-file-upload__item {
        @apply flex items-center gap-3 p-3;
        @apply bg-surface border border-border rounded-lg;
        @apply transition-all duration-200;
    }

    .spire-file-upload__item:hover {
        @apply border-border-hover;
    }

    .spire-file-upload__item--error {
        @apply border-error/50 bg-error/5;
    }

    .spire-file-upload__item-icon {
        @apply flex-shrink-0 w-10 h-10 rounded-lg;
        @apply flex items-center justify-center;
        @apply bg-primary/10 text-primary;
    }

    .spire-file-upload__item-icon--video {
        @apply bg-warning/10 text-warning;
    }

    .spire-file-upload__item-icon--audio {
        @apply bg-info/10 text-info;
    }

    .spire-file-upload__item-icon--document {
        @apply bg-secondary/10 text-secondary;
    }

    .spire-file-upload__item-icon--error {
        @apply bg-error/10 text-error;
    }

    .spire-file-upload__item-thumbnail {
        @apply flex-shrink-0 w-10 h-10 rounded-lg overflow-hidden;
        @apply bg-neutral-100 dark:bg-neutral-800;
    }

    .spire-file-upload__item-thumbnail img {
        @apply w-full h-full object-cover;
    }

    .spire-file-upload__item-info {
        @apply flex-1 min-w-0;
    }

    .spire-file-upload__item-name {
        @apply text-sm font-medium text-text truncate;
    }

    .spire-file-upload__item-meta {
        @apply flex items-center gap-2 mt-0.5;
    }

    .spire-file-upload__item-size {
        @apply text-xs text-text-muted;
    }

    .spire-file-upload__item-status {
        @apply text-xs;
    }

    .spire-file-upload__item-status--uploading {
        @apply text-primary;
    }

    .spire-file-upload__item-status--uploaded {
        @apply text-success;
    }

    .spire-file-upload__item-status--error {
        @apply text-error;
    }

    .spire-file-upload__item-error {
        @apply text-xs text-error mt-0.5;
    }

    /* 6. Progress Bar (inline) */
    .spire-file-upload__item-progress {
        @apply w-full h-1 bg-neutral-200 dark:bg-neutral-700 rounded-full mt-2;
    }

    .spire-file-upload__item-progress-bar {
        @apply h-full bg-primary rounded-full transition-all duration-300 ease-out;
    }

    .spire-file-upload__item-progress--complete .spire-file-upload__item-progress-bar {
        @apply bg-success;
    }

    /* 7. Item Actions */
    .spire-file-upload__item-actions {
        @apply flex-shrink-0 flex items-center gap-1;
    }

    /* 8. Upload Actions (manual mode) */
    .spire-file-upload__actions {
        @apply mt-4 flex justify-end gap-2;
    }

    /* Legacy classes for backward compatibility */
    .spire-file-upload__grid {
        @apply space-y-2;
    }

    .spire-file-upload__preview,
    .spire-file-upload__existing-item {
        @apply flex items-center gap-3 p-3;
        @apply bg-surface border border-border rounded-lg;
    }

    .spire-file-upload__preview-thumbnail {
        @apply flex-shrink-0 w-10 h-10 rounded-lg overflow-hidden;
        @apply bg-neutral-100 dark:bg-neutral-800;
        @apply flex items-center justify-center;
    }

    .spire-file-upload__preview-image {
        @apply w-full h-full object-cover;
    }

    .spire-file-upload__preview-icon {
        @apply w-5 h-5 text-text-muted;
    }

    .spire-file-upload__preview-info {
        @apply flex-1 min-w-0;
    }

    .spire-file-upload__preview-name {
        @apply text-sm font-medium text-text truncate;
    }

    .spire-file-upload__preview-size {
        @apply text-xs text-text-muted;
    }

    .spire-file-upload__preview-error {
        @apply text-xs text-error mt-0.5;
    }

    .spire-file-upload__preview-actions {
        @apply flex-shrink-0 flex items-center gap-1;
    }

    .spire-file-upload__status {
        @apply hidden;
    }

    .spire-file-upload__progress {
        @apply w-full h-1 bg-neutral-200 dark:bg-neutral-700 rounded-full mt-2;
    }

    .spire-file-upload__progress-bar {
        @apply h-full bg-primary rounded-full transition-all duration-300 ease-out;
    }
}
