@layer components {
    /* 1. Calendar Container */
    .spire-calendar {
        @apply bg-surface rounded-lg p-3;
    }

    /* 2. Calendar Size Variants */
    .spire-calendar--sm {
        @apply text-sm;
    }
    .spire-calendar--md {
        @apply text-base;
    }
    .spire-calendar--lg {
        @apply text-lg;
    }

    /* 3. Calendar Grid */
    .spire-calendar-grid {
        @apply grid grid-cols-7 gap-0.5;
    }

    /* 4. Calendar Day Header */
    .spire-calendar-day-header {
        @apply text-xs font-normal text-muted text-center py-2;
    }

    /* 5. Calendar Day Cell Base */
    .spire-calendar-day {
        @apply relative flex items-center justify-center w-full aspect-square p-2 rounded-md text-sm font-medium cursor-pointer;
        @apply text-text hover:bg-hover border border-transparent;
        @apply transition-all duration-150 ease-out;
    }

    /* 7. Calendar Day - Today */
    [data-spire-today="true"].spire-calendar-day {
        @apply font-semibold border border-primary/40;
    }

    /* 8. Calendar Day - Selected (Single Mode) */
    [data-spire-selected="true"].spire-calendar-day {
        @apply bg-primary text-primary-foreground hover:bg-primary/90;
    }

    /* 9. Calendar Day - Selection Start (Range Mode) */
    [data-spire-selection-start="true"].spire-calendar-day {
        @apply bg-primary text-primary-foreground rounded-l-md rounded-r-none;
    }

    /* 10. Calendar Day - Selection End (Range Mode) */
    [data-spire-selection-end="true"].spire-calendar-day {
        @apply bg-primary text-primary-foreground rounded-r-md rounded-l-none;
    }

    /* 11. Calendar Day - Start and End Same (Single Day Range) */
    [data-spire-selection-start="true"][data-spire-selection-end="true"].spire-calendar-day {
        @apply rounded-md;
    }

    /* 12. Calendar Day - In Range (Range Mode) */
    [data-spire-in-range="true"].spire-calendar-day {
        @apply bg-primary/15 text-text rounded-none;
    }

    /* 13. Calendar Day - Highlighted Range Start (Preview) */
    [data-spire-highlighted-start="true"].spire-calendar-day {
        @apply bg-primary/20 text-text rounded-l-md rounded-r-none border border-dashed border-primary/30;
    }

    /* 14. Calendar Day - Highlighted Range End (Preview) */
    [data-spire-highlighted-end="true"].spire-calendar-day {
        @apply bg-primary/20 text-text rounded-r-md rounded-l-none border border-dashed border-primary/30;
    }

    /* 15. Calendar Day - In Highlighted Range (Preview) */
    [data-spire-highlighted="true"].spire-calendar-day {
        @apply bg-primary/10 text-text rounded-none;
    }

    /* 16. Calendar Day - Outside Current Month */
    [data-spire-outside-month="true"].spire-calendar-day {
        @apply text-muted opacity-40;
    }

    /* 17. Calendar Day - Disabled */
    [data-spire-disabled="true"].spire-calendar-day {
        @apply text-text-disabled cursor-not-allowed opacity-30;
        @apply hover:bg-transparent;
    }

    /* 18. Calendar Day - Weekend */
    [data-spire-weekend="true"].spire-calendar-day:not([data-spire-selected="true"]):not([data-spire-selection-start="true"]):not([data-spire-selection-end="true"]) {
        @apply text-text;
    }

    /* 19. Calendar Month/Year Picker Cell */
    .spire-calendar-picker-cell {
        @apply flex items-center justify-center px-4 py-3 rounded-md text-sm font-medium cursor-pointer;
        @apply text-text hover:bg-hover;
        @apply transition-all duration-150 ease-out;
    }
    .spire-calendar-picker-cell--selected {
        @apply bg-primary text-primary-foreground hover:bg-primary/90;
    }
    .spire-calendar-picker-cell--disabled {
        @apply text-text-disabled cursor-not-allowed opacity-50;
        @apply hover:bg-transparent;
    }

    /* 20. Calendar Presets */
    .spire-calendar-presets {
        @apply flex flex-col gap-0.5 border-r border-border pr-5 min-w-[120px];
    }

    /* 21. Calendar Preset Item */
    .spire-calendar-preset-item {
        @apply px-4 py-2.5 text-sm rounded-md cursor-pointer;
        @apply text-text hover:bg-hover;
        @apply transition-all duration-150 ease-out;
    }
    .spire-calendar-preset-item--active {
        @apply bg-primary/10 text-primary font-medium;
    }

    /* 22. Calendar Footer */
    .spire-calendar-footer {
        @apply flex items-center justify-between gap-2 pt-3 mt-3 border-t border-border;
    }

    /* 23. Dual Calendar Layout (Range Mode) */
    .spire-calendar-dual {
        @apply flex gap-4;
    }
    .spire-calendar-dual__month {
        @apply flex-1;
    }
}
