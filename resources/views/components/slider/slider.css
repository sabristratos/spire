@layer components {
    .spire-slider {
        @apply relative w-full;
        @apply transition-opacity duration-150;
    }

    .spire-slider--disabled {
        @apply opacity-50 cursor-not-allowed;
    }

    .spire-slider--readonly {
        @apply cursor-default;
    }

    .spire-slider-track-wrapper {
        @apply flex items-center gap-3;
    }

    .spire-slider-icon {
        @apply text-muted shrink-0;
        @apply transition-colors duration-150;
    }

    .spire-slider:not(.spire-slider--disabled):hover .spire-slider-icon {
        @apply text-text;
    }

    .spire-slider-container {
        @apply relative w-full py-2;
    }

    .spire-slider-track {
        @apply relative bg-border rounded-full h-2 w-full;
        @apply transition-colors duration-150;
        touch-action: none;
        user-select: none;
    }

    .spire-slider-track--sm {
        @apply h-1;
    }

    .spire-slider-track--md {
        @apply h-2;
    }

    .spire-slider-track--lg {
        @apply h-3;
    }

    .spire-slider:not(.spire-slider--disabled) .spire-slider-track:hover {
        @apply bg-border opacity-80;
    }

    .spire-slider-fill {
        @apply absolute rounded-full top-0 h-full;
        pointer-events: none;
        transition: none; /* Default: no transitions to prevent animation during drag */
    }

    /* Only transition when slider is NOT being interacted with */
    .spire-slider-container:not([data-spire-dragging="true"]) .spire-slider-fill {
        @apply transition-all duration-150;
    }

    .spire-slider-fill--primary {
        @apply bg-primary;
    }

    .spire-slider-fill--secondary {
        @apply bg-secondary;
    }

    .spire-slider-fill--success {
        @apply bg-success;
    }

    .spire-slider-fill--warning {
        @apply bg-warning;
    }

    .spire-slider-fill--error {
        @apply bg-error;
    }

    .spire-slider-fill--info {
        @apply bg-info;
    }

    .spire-slider-fill--neutral {
        @apply bg-neutral;
    }

    .spire-slider-thumb {
        @apply absolute bg-surface rounded-full;
        @apply shadow-md;
        @apply cursor-grab;
        @apply transition-[transform,box-shadow,border-color] duration-150;
        @apply border-2 border-transparent;
        touch-action: none;
        left: 0;
        top: 50%;
        transform: translate(-50%, -50%);
    }

    .spire-slider-thumb--sm {
        @apply w-4 h-4;
    }

    .spire-slider-thumb--md {
        @apply w-5 h-5;
    }

    .spire-slider-thumb--lg {
        @apply w-6 h-6;
    }

    .spire-slider-thumb--primary {
        @apply border-primary;
    }

    .spire-slider-thumb--secondary {
        @apply border-secondary;
    }

    .spire-slider-thumb--success {
        @apply border-success;
    }

    .spire-slider-thumb--warning {
        @apply border-warning;
    }

    .spire-slider-thumb--error {
        @apply border-error;
    }

    .spire-slider-thumb--info {
        @apply border-info;
    }

    .spire-slider-thumb--neutral {
        @apply border-neutral-border;
    }

    .spire-slider:not(.spire-slider--disabled) .spire-slider-thumb:hover:not([data-spire-dragging="true"]) {
        @apply scale-110 shadow-lg;
    }

    .spire-slider:not(.spire-slider--disabled) .spire-slider-thumb:active,
    .spire-slider-thumb[data-spire-dragging="true"] {
        @apply scale-105 cursor-grabbing shadow-xl;
    }

    .spire-slider-thumb:focus-visible {
        @apply outline outline-2 outline-offset-2 outline-primary;
        @apply ring-4 ring-primary/20;
    }

    .spire-slider--disabled .spire-slider-thumb {
        @apply cursor-not-allowed;
    }

    .spire-slider-steps {
        @apply absolute inset-0 pointer-events-none;
    }

    .spire-slider-step {
        @apply absolute rounded-full w-1.5 h-1.5;
        @apply bg-border;
        @apply transition-colors duration-150;
    }

    .spire-slider-step--active,
    .spire-slider-step[data-spire-in-range="true"] {
        @apply bg-surface shadow-sm ring-1 ring-border;
    }

    .spire-slider-marks {
        @apply absolute inset-0;
    }

    .spire-slider-mark {
        @apply absolute flex flex-col items-center cursor-pointer top-0;
        @apply transition-opacity duration-150;
    }

    .spire-slider:not(.spire-slider--disabled) .spire-slider-mark:hover {
        @apply opacity-100;
    }

    .spire-slider-mark-dot {
        @apply w-2 h-2 rounded-full;
        @apply bg-border;
        @apply transition-colors duration-150;
    }

    .spire-slider-mark--active .spire-slider-mark-dot,
    .spire-slider-mark-dot[data-spire-in-range="true"] {
        @apply bg-surface shadow-sm ring-1 ring-border;
    }

    .spire-slider-mark-label {
        @apply text-xs text-muted mt-2;
        @apply transition-colors duration-150;
    }

    .spire-slider-mark--active .spire-slider-mark-label,
    .spire-slider-mark:hover .spire-slider-mark-label {
        @apply text-text;
    }

    .spire-slider-header {
        @apply flex items-center mb-2;
    }

    .spire-slider-label {
        @apply text-sm font-medium text-text;
    }

    .spire-slider-value {
        @apply text-sm text-muted tabular-nums ml-auto;
    }

    .spire-slider-inputs {
        @apply flex items-center gap-1 ml-auto;
    }

    .spire-slider-input {
        @apply text-sm text-text tabular-nums text-center;
        @apply w-14 px-2 py-0.5;
        @apply bg-surface border border-border rounded-md;
        @apply focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20;
        -moz-appearance: textfield;
    }

    .spire-slider-input::-webkit-outer-spin-button,
    .spire-slider-input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    .spire-slider-input-separator {
        @apply text-sm text-muted;
    }

    .spire-slider--with-marks .spire-slider-container {
        @apply pb-8;
    }
}
