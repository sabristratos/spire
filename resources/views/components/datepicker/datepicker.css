@layer components {
    /**
     * Datepicker Component Styles
     *
     * Extends shared styles from: base/form-inputs.css
     * - .spire-input-box for base input box styling (size, variant, colors)
     *
     * Target this component with: [data-spire-datepicker__box]
     */

    /* 1. Outer Container */
    .spire-datepicker__container {
        @apply w-full;
    }

    /* 2. Inner Box - component-specific additions to input-box */
    .spire-datepicker__box {
        /* Inherits from spire-input-box via extends() */
    }

    /* 3. DatePicker Trigger Segmented Input Container */
    .spire-datepicker-trigger__segments {
        @apply flex items-center gap-0.5 w-full focus-within:outline-none;
        @apply transition-all duration-150 ease-out;
    }

    /* 4. DatePicker Trigger Individual Segment */
    .spire-datepicker-trigger__segment {
        @apply w-[2ch] text-center bg-transparent border-0 outline-none;
        @apply text-text font-normal;
        @apply focus:bg-primary/10 focus:rounded;
        @apply focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary;
        @apply focus-visible:ring-2 focus-visible:ring-primary/20;
        @apply transition-colors duration-150 ease-out;
    }

    .spire-datepicker-trigger__segment::placeholder {
        @apply text-placeholder;
    }

    /* 5. DatePicker Trigger Year Segment (4 digits) */
    .spire-datepicker-trigger__segment--year {
        @apply w-[4ch];
    }

    /* 6. DatePicker Trigger Separator */
    .spire-datepicker-trigger__separator {
        @apply text-muted font-normal select-none;
    }

    /* 7. DatePicker Trigger Size Variants for Segments */
    [data-spire-size="sm"] .spire-datepicker-trigger__segment {
        @apply text-sm;
    }
    [data-spire-size="md"] .spire-datepicker-trigger__segment {
        @apply text-sm;
    }
    [data-spire-size="lg"] .spire-datepicker-trigger__segment {
        @apply text-base;
    }


    [data-spire-size="sm"] .spire-datepicker-trigger__separator {
        @apply text-sm;
    }
    [data-spire-size="md"] .spire-datepicker-trigger__separator {
        @apply text-sm;
    }
    [data-spire-size="lg"] .spire-datepicker-trigger__separator {
        @apply text-base;
    }

    /* 8. DatePicker Content (Dropdown Panel) */
    .spire-datepicker__content {
        @apply bg-surface border border-border rounded-lg shadow-lg p-3;
    }

    /* 9. Range Mode Styles */
    .spire-datepicker-trigger__range {
        @apply flex items-center gap-2 w-full;
    }

    .spire-datepicker-trigger__range-display {
        @apply flex items-center gap-2 flex-1 min-w-0;
    }

    .spire-datepicker-trigger__range-value {
        @apply text-text font-normal truncate;
    }

    .spire-datepicker-trigger__range-value--placeholder {
        @apply text-placeholder;
    }

    .spire-datepicker-trigger__range-separator {
        @apply text-muted font-normal select-none shrink-0;
    }

    /* Range mode size variants */
    [data-spire-size="sm"] .spire-datepicker-trigger__range-value,
    [data-spire-size="sm"] .spire-datepicker-trigger__range-separator {
        @apply text-sm;
    }
    [data-spire-size="md"] .spire-datepicker-trigger__range-value,
    [data-spire-size="md"] .spire-datepicker-trigger__range-separator {
        @apply text-base;
    }
    [data-spire-size="lg"] .spire-datepicker-trigger__range-value,
    [data-spire-size="lg"] .spire-datepicker-trigger__range-separator {
        @apply text-lg;
    }

    /* 10. Multiple Mode Styles */
    .spire-datepicker-trigger__multiple {
        @apply flex items-center gap-2 w-full;
    }

    .spire-datepicker-trigger__multiple-display {
        @apply flex-1 min-w-0;
    }

    .spire-datepicker-trigger__multiple-value {
        @apply text-placeholder font-normal truncate block;
    }

    .spire-datepicker-trigger__multiple-actions {
        @apply flex items-center gap-2 shrink-0 ml-auto;
    }

    /* Multiple mode size variants for placeholder text */
    [data-spire-size="sm"] .spire-datepicker-trigger__multiple-value {
        @apply text-sm;
    }
    [data-spire-size="md"] .spire-datepicker-trigger__multiple-value {
        @apply text-base;
    }
    [data-spire-size="lg"] .spire-datepicker-trigger__multiple-value {
        @apply text-lg;
    }

    .spire-datepicker-trigger__count-badge {
        @apply inline-flex items-center justify-center px-2 py-0.5;
        @apply text-xs font-medium rounded-md;
        @apply bg-primary/10 text-primary;
    }

    /* 11. Chips for Multiple Mode */
    .spire-datepicker__chips-container {
        @apply flex flex-nowrap items-center gap-1.5 flex-1 min-w-0 overflow-hidden;
    }

    .spire-datepicker__chip {
        @apply inline-flex items-center gap-1 bg-primary/10 text-primary px-2 py-0.5 rounded-md text-sm;
    }

    .spire-datepicker__chip-label {
        @apply truncate max-w-[8rem];
    }

    .spire-datepicker__chip-remove {
        @apply shrink-0 hover:bg-primary/20 rounded-sm p-0.5 transition-colors;
    }

    /* 12. Clear Button Styles */
    .spire-datepicker-trigger__clear-btn {
        @apply text-muted hover:text-error;
        @apply transition-colors duration-150;
        @apply focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-error;
        @apply focus-visible:ring-2 focus-visible:ring-error/20;
    }

    .spire-datepicker-trigger__clear-btn:hover {
        @apply bg-error/10;
    }

    /* 13. DatePicker Footer */
    .spire-datepicker__footer {
        @apply flex items-center gap-2 pt-3 mt-3 border-t border-border;
    }

    .spire-datepicker__footer__inputs {
        @apply flex items-center gap-2 flex-1;
    }

    .spire-datepicker__footer__input {
        @apply flex-1 h-9 px-3 text-sm rounded-md;
        @apply border border-border bg-surface;
        @apply text-text placeholder:text-placeholder;
        @apply focus:border-primary focus:ring-2 focus:ring-primary/20;
        @apply focus-visible:outline-none;
    }

    .spire-datepicker__footer__separator {
        @apply text-muted text-sm;
    }

    .spire-datepicker__footer__segment-group {
        @apply flex items-center gap-0.5 flex-1;
        @apply px-3 py-1.5 rounded-md;
        @apply border border-border bg-surface;
        @apply focus-within:border-primary focus-within:ring-2 focus-within:ring-primary/20;
        @apply transition-all duration-150 ease-out;
    }

    .spire-datepicker__footer__segment {
        @apply w-[2ch] text-center bg-transparent border-0 outline-none;
        @apply text-text font-normal text-sm;
        @apply focus:bg-primary/10 focus:rounded;
        @apply focus-visible:outline-none;
        @apply placeholder:text-placeholder;
        @apply transition-colors duration-150 ease-out;
    }

    .spire-datepicker__footer__segment--year {
        @apply w-[4ch];
    }

    .spire-datepicker__footer__segment-separator {
        @apply text-muted font-normal select-none text-sm;
    }

    .spire-datepicker__footer__range-separator {
        @apply text-muted text-sm mx-1;
    }

    .spire-datepicker__footer__actions {
        @apply flex items-center gap-2;
    }
}
