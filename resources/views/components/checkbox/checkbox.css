@layer components {
    /* Base checkbox container */
    .spire-checkbox {
        @apply inline-flex items-start cursor-pointer;
    }

    .spire-checkbox-input {
        @apply visually-hidden;
    }

    /* Regular variant */
    .spire-checkbox--regular {
        @apply gap-3;
        @apply w-full;
    }

    /* Checkbox box (visual element) */
    .spire-checkbox-box {
        @apply relative inline-flex items-center justify-center;
        @apply flex-shrink-0;
        @apply border border-border bg-surface;
        @apply transition-all duration-150 ease-out;
        @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2;
    }

    /* Size variants for checkbox box */
    .spire-checkbox-box--sm {
        @apply w-4 h-4;
    }

    .spire-checkbox-box--md {
        @apply w-5 h-5;
    }

    .spire-checkbox-box--lg {
        @apply w-6 h-6;
    }

    /* Checkbox icon */
    .spire-checkbox-icon {
        @apply absolute inset-0 flex items-center justify-center;
        @apply opacity-0 scale-0;
        @apply transition-all duration-150 ease-out;
    }

    /* Checked state - show check icon */
    .spire-checkbox:has(.spire-checkbox-input:checked) .spire-checkbox-icon--check {
        @apply opacity-100 scale-100;
    }

    /* Indeterminate state - show minus icon */
    .spire-checkbox:has(.spire-checkbox-input:indeterminate) .spire-checkbox-icon--indeterminate {
        @apply opacity-100 scale-100;
    }

    /* Color variants - Unchecked */
    .spire-checkbox-box {
        @apply border-border bg-surface;
    }

    /* Color variants - Checked */
    .spire-checkbox:has(.spire-checkbox-input:checked) .spire-checkbox-box--primary {
        @apply bg-primary border-primary;
    }

    .spire-checkbox:has(.spire-checkbox-input:checked) .spire-checkbox-box--secondary {
        @apply bg-secondary border-secondary;
    }

    .spire-checkbox:has(.spire-checkbox-input:checked) .spire-checkbox-box--success {
        @apply bg-success border-success;
    }

    .spire-checkbox:has(.spire-checkbox-input:checked) .spire-checkbox-box--error {
        @apply bg-error border-error;
    }

    .spire-checkbox:has(.spire-checkbox-input:checked) .spire-checkbox-box--warning {
        @apply bg-warning border-warning;
    }

    .spire-checkbox:has(.spire-checkbox-input:checked) .spire-checkbox-box--info {
        @apply bg-info border-info;
    }

    .spire-checkbox:has(.spire-checkbox-input:checked) .spire-checkbox-box--featured {
        @apply bg-featured border-featured;
    }

    /* Icon color for checked state */
    .spire-checkbox:has(.spire-checkbox-input:checked) .spire-checkbox-icon {
        @apply text-white;
    }

    /* Indeterminate state - colors */
    .spire-checkbox:has(.spire-checkbox-input:indeterminate) .spire-checkbox-box--primary {
        @apply bg-primary border-primary;
    }

    .spire-checkbox:has(.spire-checkbox-input:indeterminate) .spire-checkbox-box--secondary {
        @apply bg-secondary border-secondary;
    }

    .spire-checkbox:has(.spire-checkbox-input:indeterminate) .spire-checkbox-box--success {
        @apply bg-success border-success;
    }

    .spire-checkbox:has(.spire-checkbox-input:indeterminate) .spire-checkbox-box--error {
        @apply bg-error border-error;
    }

    .spire-checkbox:has(.spire-checkbox-input:indeterminate) .spire-checkbox-box--warning {
        @apply bg-warning border-warning;
    }

    .spire-checkbox:has(.spire-checkbox-input:indeterminate) .spire-checkbox-box--info {
        @apply bg-info border-info;
    }

    .spire-checkbox:has(.spire-checkbox-input:indeterminate) .spire-checkbox-box--featured {
        @apply bg-featured border-featured;
    }

    .spire-checkbox:has(.spire-checkbox-input:indeterminate) .spire-checkbox-icon {
        @apply text-white;
    }

    /* Hover state */
    .spire-checkbox:hover .spire-checkbox-box {
        @apply border-border-hover;
    }

    /* Focus state */
    .spire-checkbox:has(.spire-checkbox-input:focus-visible) .spire-checkbox-box {
        @apply outline outline-2 outline-offset-2 outline-primary;
    }

    /* Disabled state */
    .spire-checkbox:has(.spire-checkbox-input:disabled) .spire-checkbox-box {
        @apply opacity-50 cursor-not-allowed;
    }

    /* Content (label and description) */
    .spire-checkbox-content {
        @apply flex flex-col gap-1;
    }

    .spire-checkbox-label {
        @apply font-medium text-text;
    }

    .spire-checkbox-label--sm {
        @apply text-sm;
    }

    .spire-checkbox-label--md {
        @apply text-base;
    }

    .spire-checkbox-label--lg {
        @apply text-lg;
    }

    .spire-checkbox-description {
        @apply text-text-muted;
    }

    .spire-checkbox-description--sm {
        @apply text-xs;
    }

    .spire-checkbox-description--md {
        @apply text-sm;
    }

    .spire-checkbox-description--lg {
        @apply text-base;
    }

    .spire-checkbox-required {
        @apply text-error ml-0.5;
    }

    /* Pill variant */
    .spire-checkbox--pill {
        @apply inline-flex items-center justify-center;
        @apply px-3 py-1.5 rounded-full;
        @apply text-sm;
        @apply border border-border bg-surface;
        @apply transition-all duration-150 ease-out;
    }

    .spire-checkbox--pill:hover {
        @apply border-border-hover bg-overlay;
    }

    .spire-checkbox-pill-label {
        @apply font-medium text-text;
    }

    .spire-checkbox-pill-label--sm {
        @apply text-xs;
    }

    .spire-checkbox-pill-label--md {
        @apply text-sm;
    }

    .spire-checkbox-pill-label--lg {
        @apply text-base;
    }

    /* Pill checked state */
    .spire-checkbox--pill:has(.spire-checkbox-input:checked) {
        @apply bg-primary border-primary text-white;
    }

    .spire-checkbox--pill:has(.spire-checkbox-input:checked) .spire-checkbox-pill-label {
        @apply text-white;
    }

    /* Card variant */
    .spire-checkbox--card {
        @apply flex flex-col;
        @apply relative;
        @apply w-full;
        @apply p-4 rounded-lg;
        @apply border border-border bg-surface;
        @apply transition-all duration-150 ease-out;
    }

    .spire-checkbox--card:hover {
        @apply border-border-hover bg-overlay;
    }

    .spire-checkbox-box--card {
        @apply absolute top-4 right-4;
    }

    .spire-checkbox-card-header-content {
        @apply flex flex-col gap-1;
        @apply pr-10;
    }

    .spire-checkbox-card-content {
        @apply mt-3 w-full;
    }

    /* Card checked state */
    .spire-checkbox--card:has(.spire-checkbox-input:checked) {
        @apply bg-primary/5 border-primary;
    }

    /* ===== Checkbox Group Styles ===== */

    /* Checkbox group container */
    .spire-checkbox-group {
        @apply flex flex-col;
    }

    /* Label wrapper */
    .spire-checkbox-group-label-wrapper {
        @apply mb-2;
    }

    .spire-checkbox-group-label {
        @apply block text-sm font-medium text-text;
    }

    .spire-checkbox-group-required {
        @apply text-error ml-0.5;
    }

    /* Description */
    .spire-checkbox-group-description {
        @apply text-sm text-text-muted mb-3;
    }

    /* Checkbox items container */
    .spire-checkbox-group-items {
        @apply flex;
    }

    /* Orientation variants */
    .spire-checkbox-group-items--vertical {
        @apply flex-col;
    }

    .spire-checkbox-group-items--horizontal {
        @apply flex-row flex-wrap;
    }

    /* Gap variants */
    .spire-checkbox-group-items--gap-sm {
        @apply gap-2;
    }

    .spire-checkbox-group-items--gap-md {
        @apply gap-3;
    }

    .spire-checkbox-group-items--gap-lg {
        @apply gap-4;
    }

    /* Helper text */
    .spire-checkbox-group-helper {
        @apply mt-2 text-sm text-text-muted;
    }

    /* Error message */
    .spire-checkbox-group-error {
        @apply mt-2 flex items-center gap-1.5 text-sm text-error;
    }
}
